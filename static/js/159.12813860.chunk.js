"use strict";(self.webpackChunkcar_sharing=self.webpackChunkcar_sharing||[]).push([[159],{5159:function(n,e,o){o.r(e),o.d(e,{default:function(){return X}});var r,t,i,a,l,s,d,c,p,u,h,x,f,v=o(3433),g=o(9439),m=o(168),b=o(2791),Z=o(5048),w=o(8547),j=o(9067),k=o(1116),C=o(9624),_=o(6279),y=o(4942),S=o(8174),P=o(686),z=o(5597),L=o(1413),E=o(184),F=w.ZP.div(r||(r=(0,m.Z)(["\n  display: inline-grid;\n  gap: 8px;\n  width: 320px;\n  font-size: var(--headingsSecondFontSize);\n  font-weight: 500;\n  line-height: 1.28;\n  color: var(--headingsSecondColor);\n"]))),M=w.ZP.div(t||(t=(0,m.Z)(["\n  display: flex;\n  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n  width: 320px;\n  border-radius: 14px;\n  overflow: hidden;\n"]))),N=w.ZP.div(i||(i=(0,m.Z)(["\n  position: relative;\n  display: flex;\n  color: var(--headingsColor);\n  font-size: 18px;\n  line-height: 1.11;\n  width: 160px;\n  height: 48px;\n\n  label,\n  .input__from,\n  .input__to {\n    white-space: nowrap;\n    display: block;\n  }\n\n  label {\n    position: absolute;\n    top: 14px;\n    left: 24px;\n    color: inherit;\n  }\n\n  input {\n    display: block;\n    width: 100%;\n    padding: 14px 24px;\n    font-family: inherit;\n    font-size: inherit;\n    font-style: inherit;\n    font-weight: inherit;\n    line-height: inherit;\n    --webkit-appearance: none;\n    color: inherit;\n    background-color: var(--bgSecondColor);\n    border: 1px solid var(--bgSecondColor);\n\n    &.input__from {\n      padding-left: 70px;\n      border-right: 1px solid var(--borderSecondColor);\n    }\n\n    &.input__to {\n      padding-left: 48px;\n    }\n\n    &:focus {\n      outline: none;\n    }\n  }\n"]))),T=function(n){var e=n.id,o=void 0===e?"text-input":e,r=n.label,t=void 0===r?"label":r,i=n.value,a=void 0===i?{from:"",to:""}:i,l=(0,b.useState)(a),s=(0,g.Z)(l,2),d=s[0],c=s[1],p=function(n){/^[0-9,]+$/.test(n.target.value)||!n.target.value.trim()?c((function(e){return(0,L.Z)((0,L.Z)({},e),{},(0,y.Z)({},n.target.name,(0,z.Q)(n.target.value)))})):S.Am.warn("Please write only numbers")};return(0,E.jsxs)(F,{children:[(0,E.jsx)("p",{children:t}),(0,E.jsxs)(M,{children:[(0,E.jsxs)(N,{children:[(0,E.jsx)("label",{htmlFor:"".concat(o,"_from"),children:"From"}),(0,E.jsx)("input",{name:"from",value:d.from,className:"input__from",id:"".concat(o,"_from"),type:"text",onChange:p,autoComplete:"off"})]}),(0,E.jsxs)(N,{children:[(0,E.jsx)("label",{htmlFor:"".concat(o,"_to"),children:"To"}),(0,E.jsx)("input",{name:"to",value:d.to,className:"input__to",id:"".concat(o,"_to"),type:"text",onChange:p,autoComplete:"off"})]})]})]})},$=function(n){return(0,E.jsx)("svg",(0,L.Z)((0,L.Z)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},n),{},{children:(0,E.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m5 7.5 5 5 5-5"})}))},A=w.ZP.div(a||(a=(0,m.Z)(["\n  position: relative;\n  display: inline-grid;\n  gap: 8px;\n  height: 74px;\n"]))),q=w.ZP.p(l||(l=(0,m.Z)(["\n  color: var(--headingsSecondColor);\n  font-size: var(--headingsSecondFontSize);\n  font-style: normal;\n  font-weight: 500;\n  line-height: 1.28;\n"]))),V=w.ZP.div(s||(s=(0,m.Z)(["\n  position: relative;\n  z-index: 0;\n  color: var(--headingsColor);\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.11;\n  padding: 14px 18px;\n  background-color: var(--bgSecondColor);\n  border-radius: 14px;\n\n  & > svg {\n    position: absolute;\n    top: 14px;\n    right: 18px;\n    stroke: var(--headingsColor);\n  }\n"]))),D=w.ZP.input(d||(d=(0,m.Z)(["\n  appearance: none;\n  border: none;\n  outline: none;\n  background-color: transparent;\n  cursor: pointer;\n"]))),I=w.ZP.div(c||(c=(0,m.Z)(["\n  position: relative;\n  z-index: 5;\n  margin-top: 4px;\n  padding: 14px 8px 14px 18px;\n  height: 272px;\n  overflow-y: scroll;\n  border-radius: 14px;\n  border: 1px solid rgba(18, 20, 23, 0.05);\n  background-color: var(--bgColor);\n  box-shadow: 0px 4px 36px 0px rgba(0, 0, 0, 0.02);\n"]))),O=w.ZP.ul(p||(p=(0,m.Z)(["\n  display: grid;\n  gap: 8px;\n  background: var(--bgColor);\n"]))),Q=w.ZP.li(u||(u=(0,m.Z)(["\n  color: rgba(18, 20, 23, 0.2);\n  font-size: var(--standardSize);\n  font-weight: 500;\n  line-height: 1.25;\n  background-color: var(--bgColor);\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    color: inherit;\n  }\n"]))),R=function(n){var e=n.name,o=n.id,r=n.label,t=n.placeholder,i=void 0===t?"Enter the text":t,a=n.optionList,l=(0,b.useState)(!1),s=(0,g.Z)(l,2),d=s[0],c=s[1],p=(0,b.useState)(null),u=(0,g.Z)(p,2),h=u[0],x=u[1];return(0,b.useEffect)((function(){var n=function(n){"Escape"===n.code&&c(!1)};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[d]),(0,E.jsxs)(A,{children:[(0,E.jsx)(q,{children:r}),(0,E.jsxs)("div",{className:"dropdown__select",children:[(0,E.jsxs)(V,{className:d?"dropdown__open":"",onClick:function(){return c(!d)},children:[(0,E.jsx)(D,{type:"text",id:o,name:e,value:h||i,readOnly:!0}),(0,E.jsx)($,{})]}),d&&(0,E.jsx)(I,{children:(0,E.jsx)(O,{children:a.map((function(n){return(0,E.jsx)(Q,{name:e,onClick:(o=n,function(){x(o),c(!1)}),children:n},Math.random());var o}))})})]})]})},W=o(8365),B=w.ZP.form(h||(h=(0,m.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  gap: 18px;\n  margin-bottom: 50px;\n"]))),G=function(n){var e=n.filtersList,o=(0,Z.I0)(),r=(0,Z.v9)(k.V);return(0,E.jsxs)(B,{onSubmit:function(n){var e;n.preventDefault();var r=n.target.elements,t=r.brand,i=r.price,a=r.from,l=r.to;if(t.value&&"Enter the text"!==t.value||i.value&&"To $"!==i.value||a.value||l.value){var s=(e={},(0,y.Z)(e,t.name,"Enter the text"!==t.value?t.value:""),(0,y.Z)(e,i.name,"To $"!==i.value?i.value:""),(0,y.Z)(e,"mileage",{from:(0,z.q)(a.value),to:(0,z.q)(l.value)}),(0,y.Z)(e,"prices",[]),e);o((0,P.j)(s))}else S.Am.info("Please choose one of the filters")},children:[(0,E.jsx)(R,{name:"brand",label:"Car brand",value:r.brand,optionList:e.brands}),(0,E.jsx)(R,{name:"price",label:"Price/ 1 hour",placeholder:"To $",value:r.price,optionList:e.prices}),(0,E.jsx)(T,{name:"mileage",label:"Car mileage / km",value:r.mileage}),(0,E.jsx)(W.Z,{type:"submit",children:"Search"})]})},H=o(6683),J=o(8736),K=(0,w.ZP)(W.Z)(x||(x=(0,m.Z)(["\n  display: block;\n  margin: 100px auto 0 auto;\n  border: 1px solid var(--accentColor);\n\n  &:hover {\n    background-color: var(--accentColor);\n    color: var(--whiteColor);\n  }\n"]))),U=w.ZP.div(f||(f=(0,m.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 24px;\n  margin: auto;\n"]))),X=function(){var n,e,o,r=(0,Z.v9)(k.V),t=(0,j.FP)(),i=t.data,a=t.isLoading,l=(0,b.useState)(1),s=(0,g.Z)(l,2),d=s[0],c=s[1],p={brands:[],prices:[]},u=(0,b.useMemo)((function(){}),[]),h=0,x=0;a||(u=(0,C.i)(i,r),p={brands:["All"].concat((0,v.Z)(new Set(i.map((function(n){return n.make}))))),prices:(n=0,e=Math.max.apply(Math,(0,v.Z)(new Set(i.map((function(n){return n.rentalPrice.replace(/(\$)/,"")}))))),o=10,Array.from({length:Math.floor((e-n)/o)+1},(function(e,r){return n+r*o})))},h=u.length,x=h?Math.ceil(h/8):1);var f=(0,b.useMemo)((function(){var n,e=8*(d-1),o=e+8;return null===(n=u)||void 0===n?void 0:n.slice(e,o)}),[d,u]);return(0,E.jsx)(H.Z,{children:a?(0,E.jsx)(J.Z,{}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(G,{filtersList:p}),(0,E.jsx)(_.Z,{list:f}),(0,E.jsxs)(U,{children:[x>d&&(0,E.jsx)(K,{variant:"text",className:"load-more__btn",onClick:function(){d<x&&(c((function(n){return n+1})),window.scrollTo(0,0))},children:"Load more"}),1!==d&&(0,E.jsx)(K,{variant:"text",className:"load-more__btn",onClick:function(){c(1),window.scrollTo(0,0)},children:"Return to 1 page"})]})]})})}}}]);
//# sourceMappingURL=159.12813860.chunk.js.map